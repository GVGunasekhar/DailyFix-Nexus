{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\swamy.LAPTOP-0RVCTRRS\\\\OneDrive\\\\Desktop\\\\Dailyfix Nexus\\\\src\\\\components\\\\ConversationView\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport { AIFeatures } from '../AIFeatures';\n\n// Add type definitions for Web Speech API\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ConversationView = ({\n  conversation\n}) => {\n  _s();\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [isVoiceCommand, setIsVoiceCommand] = useState(false);\n  const [messageText, setMessageText] = useState('');\n  const [recordedAudio, setRecordedAudio] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const speechRecognitionRef = useRef(null);\n  useEffect(() => {\n    // Initialize speech recognition\n    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n      const SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition;\n      if (SpeechRecognitionAPI) {\n        speechRecognitionRef.current = new SpeechRecognitionAPI();\n        speechRecognitionRef.current.continuous = true;\n        speechRecognitionRef.current.interimResults = true;\n        speechRecognitionRef.current.onresult = event => {\n          const results = Array.from(event.results);\n          const transcript = results.map(result => result[0].transcript).join('');\n          if (event.results[0].isFinal) {\n            handleVoiceCommand(transcript.toLowerCase());\n          }\n        };\n        speechRecognitionRef.current.onerror = event => {\n          console.error('Speech recognition error:', event.error);\n          setIsVoiceCommand(false);\n        };\n      }\n    }\n  }, []);\n  const handleVoiceCommand = command => {\n    // Handle voice commands\n    if (command.includes('tag') || command.includes('label')) {\n      var _command$split$pop, _command$split$pop2;\n      const tag = ((_command$split$pop = command.split('tag').pop()) === null || _command$split$pop === void 0 ? void 0 : _command$split$pop.trim()) || ((_command$split$pop2 = command.split('label').pop()) === null || _command$split$pop2 === void 0 ? void 0 : _command$split$pop2.trim());\n      if (tag) {\n        console.log('Adding tag:', tag);\n        alert(`Added tag: ${tag}`);\n      }\n    } else if (command.includes('reply to')) {\n      var _command$split$pop3;\n      const message = (_command$split$pop3 = command.split('reply to').pop()) === null || _command$split$pop3 === void 0 ? void 0 : _command$split$pop3.trim();\n      if (message) {\n        setMessageText(`Replying to: \"${message}\"`);\n      }\n    } else if (command.includes('search for')) {\n      var _command$split$pop4;\n      const query = (_command$split$pop4 = command.split('search for').pop()) === null || _command$split$pop4 === void 0 ? void 0 : _command$split$pop4.trim();\n      if (query) {\n        handleSettingsClick('search');\n      }\n    } else if (command.includes('clear chat')) {\n      handleSettingsClick('clear');\n    } else if (command.includes('export chat')) {\n      handleSettingsClick('export');\n    } else {\n      // If no command detected, treat as message text\n      setMessageText(command);\n    }\n    setIsVoiceCommand(false);\n  };\n  const startVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      setIsVoiceCommand(true);\n      speechRecognitionRef.current.start();\n    } else {\n      alert('Speech recognition is not supported in your browser');\n    }\n  };\n  const stopVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      speechRecognitionRef.current.stop();\n      setIsVoiceCommand(false);\n    }\n  };\n  const handleSendMessage = () => {\n    if (recordedAudio) {\n      // Send voice message\n      console.log('Sending voice message:', recordedAudio.blob);\n      setRecordedAudio(null);\n    } else if (messageText.trim()) {\n      // Send text message\n      const newMessage = {\n        id: Date.now().toString(),\n        text: messageText,\n        sender: 'user',\n        time: new Date(),\n        platform: (conversation === null || conversation === void 0 ? void 0 : conversation.platforms[0]) || 'WhatsApp'\n      };\n      console.log('Sending text message:', newMessage);\n      setMessageText('');\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: 'audio/wav'\n        });\n        const audioUrl = URL.createObjectURL(audioBlob);\n        setRecordedAudio({\n          blob: audioBlob,\n          url: audioUrl\n        });\n      };\n      mediaRecorder.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      alert('Unable to access microphone. Please check permissions.');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      setIsRecording(false);\n    }\n  };\n  const handleVoiceButtonClick = () => {\n    if (isRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n  const handleSettingsClick = action => {\n    switch (action) {\n      case 'search':\n        const searchText = prompt('Enter text to search in chat:');\n        if (searchText) {\n          alert(`Searching for: ${searchText} in chat with ${conversation === null || conversation === void 0 ? void 0 : conversation.contact.name}`);\n        }\n        break;\n      case 'media':\n        alert('Opening media gallery');\n        break;\n      case 'export':\n        alert('Exporting chat history...');\n        break;\n      case 'clear':\n        if (window.confirm('Are you sure you want to clear this chat? This cannot be undone.')) {\n          alert('Chat cleared');\n        }\n        break;\n      case 'block':\n        if (window.confirm(`Are you sure you want to block ${conversation === null || conversation === void 0 ? void 0 : conversation.contact.name}?`)) {\n          alert(`${conversation === null || conversation === void 0 ? void 0 : conversation.contact.name} has been blocked`);\n        }\n        break;\n    }\n    setIsSettingsOpen(false);\n  };\n  const settingsItems = [{\n    label: 'Search in chat',\n    action: 'search',\n    color: '#0084ff'\n  }, {\n    label: 'Media, links & docs',\n    action: 'media',\n    color: '#4CAF50'\n  }, {\n    label: 'Export chat',\n    action: 'export',\n    color: '#9C27B0'\n  }, {\n    label: 'Clear chat',\n    action: 'clear',\n    color: '#FF5722',\n    isDangerous: true\n  }, {\n    label: 'Block contact',\n    action: 'block',\n    color: '#d32f2f',\n    isDangerous: true\n  }];\n  if (!conversation) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation-placeholder\",\n      children: \"Select a conversation to start messaging\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"conversation-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: conversation.contact.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"platform-badges\",\n          children: conversation.platforms.map(platform => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"platform-badge\",\n            \"data-platform\": platform,\n            children: platform\n          }, platform, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-menu\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"settings-button\",\n            title: \"Settings\",\n            onClick: () => setIsSettingsOpen(!isSettingsOpen),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"settings\",\n              children: \"\\u2699\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), isSettingsOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-dropdown\",\n            children: settingsItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `settings-item ${item.isDangerous ? 'dangerous' : ''}`,\n              onClick: () => handleSettingsClick(item.action),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"settings-label\",\n                style: {\n                  color: item.color\n                },\n                children: item.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-history\",\n        children: conversation.messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message-wrapper ${message.sender === 'user' ? 'outgoing' : 'incoming'}`,\n          children: [message.sender === 'contact' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-sender\",\n            children: conversation.contact.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-bubble ${message.platform.toLowerCase()}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: message.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-time\",\n                  children: message.time.toLocaleTimeString([], {\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    hour12: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"platform-indicator\",\n                  \"data-platform\": message.platform,\n                  children: message.platform\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AIFeatures, {\n      conversation: conversation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-input-container\",\n      children: [recordedAudio ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recorded-audio\",\n        children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n          src: recordedAudio.url,\n          controls: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-audio\",\n          onClick: () => setRecordedAudio(null),\n          title: \"Cancel\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: `message-input ${isVoiceCommand ? 'voice-active' : ''}`,\n          placeholder: isVoiceCommand ? 'Listening for voice command...' : 'Type a message or use voice command...',\n          value: messageText,\n          onChange: e => setMessageText(e.target.value),\n          onKeyPress: handleKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `voice-command-button ${isVoiceCommand ? 'active' : ''}`,\n          title: isVoiceCommand ? 'Stop Voice Command' : 'Start Voice Command',\n          onClick: () => isVoiceCommand ? stopVoiceCommand() : startVoiceCommand(),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"voice-command\",\n            children: isVoiceCommand ? '🎙️' : '🗣️'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `voice-button ${isRecording ? 'recording' : ''}`,\n        title: isRecording ? 'Stop Recording' : 'Start Voice Recording',\n        onClick: handleVoiceButtonClick,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"voice\",\n          children: isRecording ? '⏹️' : '🎤'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `send-button ${messageText.trim() || recordedAudio ? 'active' : ''}`,\n        onClick: handleSendMessage,\n        disabled: !messageText.trim() && !recordedAudio,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"send\",\n          children: \"\\uD83D\\uDCE4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n};\n_s(ConversationView, \"KW3T/x2780Gqu6q1hXudshXenuc=\");\n_c = ConversationView;\nvar _c;\n$RefreshReg$(_c, \"ConversationView\");","map":{"version":3,"names":["React","useState","useRef","useEffect","AIFeatures","jsxDEV","_jsxDEV","Fragment","_Fragment","ConversationView","conversation","_s","isSettingsOpen","setIsSettingsOpen","isRecording","setIsRecording","isVoiceCommand","setIsVoiceCommand","messageText","setMessageText","recordedAudio","setRecordedAudio","mediaRecorderRef","audioChunksRef","speechRecognitionRef","window","SpeechRecognitionAPI","SpeechRecognition","webkitSpeechRecognition","current","continuous","interimResults","onresult","event","results","Array","from","transcript","map","result","join","isFinal","handleVoiceCommand","toLowerCase","onerror","console","error","command","includes","_command$split$pop","_command$split$pop2","tag","split","pop","trim","log","alert","_command$split$pop3","message","_command$split$pop4","query","handleSettingsClick","startVoiceCommand","start","stopVoiceCommand","stop","handleSendMessage","blob","newMessage","id","Date","now","toString","text","sender","time","platform","platforms","handleKeyPress","e","key","shiftKey","preventDefault","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","ondataavailable","data","size","push","onstop","audioBlob","Blob","type","audioUrl","URL","createObjectURL","url","stopRecording","getTracks","forEach","track","handleVoiceButtonClick","action","searchText","prompt","contact","name","confirm","settingsItems","label","color","isDangerous","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","role","item","index","style","messages","toLocaleTimeString","hour","minute","hour12","src","controls","placeholder","value","onChange","target","onKeyPress","disabled","_c","$RefreshReg$"],"sources":["C:/Users/swamy.LAPTOP-0RVCTRRS/OneDrive/Desktop/Dailyfix Nexus/src/components/ConversationView/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport { AIFeatures } from '../AIFeatures';\nimport type { Conversation } from '../../types/conversation';\n\n// Add type definitions for Web Speech API\ninterface SpeechRecognitionEvent extends Event {\n  results: SpeechRecognitionResultList;\n  resultIndex: number;\n}\n\ninterface SpeechRecognitionError extends Event {\n  error: string;\n  message: string;\n}\n\ninterface SpeechRecognitionResult {\n  isFinal: boolean;\n  [index: number]: SpeechRecognitionAlternative;\n}\n\ninterface SpeechRecognitionAlternative {\n  transcript: string;\n  confidence: number;\n}\n\ninterface SpeechRecognitionResultList {\n  length: number;\n  item(index: number): SpeechRecognitionResult;\n  [index: number]: SpeechRecognitionResult;\n}\n\ninterface SpeechRecognition extends EventTarget {\n  continuous: boolean;\n  interimResults: boolean;\n  lang: string;\n  onresult: (event: SpeechRecognitionEvent) => void;\n  onerror: (event: SpeechRecognitionError) => void;\n  start(): void;\n  stop(): void;\n  abort(): void;\n}\n\ninterface SpeechRecognitionConstructor {\n  new (): SpeechRecognition;\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition?: SpeechRecognitionConstructor;\n    webkitSpeechRecognition?: SpeechRecognitionConstructor;\n  }\n}\n\ninterface Message {\n  id: string;\n  text: string;\n  sender: 'user' | 'contact';\n  timestamp: Date;\n  platform: string;\n}\n\ninterface ConversationViewProps {\n  conversation: Conversation | null;\n}\n\nexport const ConversationView: React.FC<ConversationViewProps> = ({ conversation }) => {\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [isVoiceCommand, setIsVoiceCommand] = useState(false);\n  const [messageText, setMessageText] = useState('');\n  const [recordedAudio, setRecordedAudio] = useState<{ blob: Blob; url: string } | null>(null);\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const audioChunksRef = useRef<Blob[]>([]);\n  const speechRecognitionRef = useRef<SpeechRecognition | null>(null);\n\n  useEffect(() => {\n    // Initialize speech recognition\n    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n      const SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition;\n      if (SpeechRecognitionAPI) {\n        speechRecognitionRef.current = new SpeechRecognitionAPI();\n        speechRecognitionRef.current.continuous = true;\n        speechRecognitionRef.current.interimResults = true;\n\n        speechRecognitionRef.current.onresult = (event: SpeechRecognitionEvent) => {\n          const results = Array.from(event.results);\n          const transcript = results\n            .map(result => result[0].transcript)\n            .join('');\n\n          if (event.results[0].isFinal) {\n            handleVoiceCommand(transcript.toLowerCase());\n          }\n        };\n\n        speechRecognitionRef.current.onerror = (event: SpeechRecognitionError) => {\n          console.error('Speech recognition error:', event.error);\n          setIsVoiceCommand(false);\n        };\n      }\n    }\n  }, []);\n\n  const handleVoiceCommand = (command: string) => {\n    // Handle voice commands\n    if (command.includes('tag') || command.includes('label')) {\n      const tag = command.split('tag').pop()?.trim() || command.split('label').pop()?.trim();\n      if (tag) {\n        console.log('Adding tag:', tag);\n        alert(`Added tag: ${tag}`);\n      }\n    } else if (command.includes('reply to')) {\n      const message = command.split('reply to').pop()?.trim();\n      if (message) {\n        setMessageText(`Replying to: \"${message}\"`);\n      }\n    } else if (command.includes('search for')) {\n      const query = command.split('search for').pop()?.trim();\n      if (query) {\n        handleSettingsClick('search');\n      }\n    } else if (command.includes('clear chat')) {\n      handleSettingsClick('clear');\n    } else if (command.includes('export chat')) {\n      handleSettingsClick('export');\n    } else {\n      // If no command detected, treat as message text\n      setMessageText(command);\n    }\n    setIsVoiceCommand(false);\n  };\n\n  const startVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      setIsVoiceCommand(true);\n      speechRecognitionRef.current.start();\n    } else {\n      alert('Speech recognition is not supported in your browser');\n    }\n  };\n\n  const stopVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      speechRecognitionRef.current.stop();\n      setIsVoiceCommand(false);\n    }\n  };\n\n  const handleSendMessage = () => {\n    if (recordedAudio) {\n      // Send voice message\n      console.log('Sending voice message:', recordedAudio.blob);\n      setRecordedAudio(null);\n    } else if (messageText.trim()) {\n      // Send text message\n      const newMessage = {\n        id: Date.now().toString(),\n        text: messageText,\n        sender: 'user' as const,\n        time: new Date(),\n        platform: conversation?.platforms[0] || 'WhatsApp',\n      };\n      console.log('Sending text message:', newMessage);\n      setMessageText('');\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/wav' });\n        const audioUrl = URL.createObjectURL(audioBlob);\n        setRecordedAudio({ blob: audioBlob, url: audioUrl });\n      };\n\n      mediaRecorder.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      alert('Unable to access microphone. Please check permissions.');\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      setIsRecording(false);\n    }\n  };\n\n  const handleVoiceButtonClick = () => {\n    if (isRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n\n  const handleSettingsClick = (action: string) => {\n    switch (action) {\n      case 'search':\n        const searchText = prompt('Enter text to search in chat:');\n        if (searchText) {\n          alert(`Searching for: ${searchText} in chat with ${conversation?.contact.name}`);\n        }\n        break;\n      case 'media':\n        alert('Opening media gallery');\n        break;\n      case 'export':\n        alert('Exporting chat history...');\n        break;\n      case 'clear':\n        if (window.confirm('Are you sure you want to clear this chat? This cannot be undone.')) {\n          alert('Chat cleared');\n        }\n        break;\n      case 'block':\n        if (window.confirm(`Are you sure you want to block ${conversation?.contact.name}?`)) {\n          alert(`${conversation?.contact.name} has been blocked`);\n        }\n        break;\n    }\n    setIsSettingsOpen(false);\n  };\n\n  const settingsItems = [\n    {\n      label: 'Search in chat',\n      action: 'search',\n      color: '#0084ff'\n    },\n    {\n      label: 'Media, links & docs',\n      action: 'media',\n      color: '#4CAF50'\n    },\n    {\n      label: 'Export chat',\n      action: 'export',\n      color: '#9C27B0'\n    },\n    {\n      label: 'Clear chat',\n      action: 'clear',\n      color: '#FF5722',\n      isDangerous: true\n    },\n    {\n      label: 'Block contact',\n      action: 'block',\n      color: '#d32f2f',\n      isDangerous: true\n    }\n  ];\n\n  if (!conversation) {\n    return (\n      <div className=\"conversation-placeholder\">\n        Select a conversation to start messaging\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"conversation-view\">\n      <div className=\"conversation-header\">\n        <div className=\"header-left\">\n          <h2>{conversation.contact.name}</h2>\n          <div className=\"platform-badges\">\n            {conversation.platforms.map(platform => (\n              <span \n                key={platform} \n                className=\"platform-badge\"\n                data-platform={platform}\n              >\n                {platform}\n              </span>\n            ))}\n          </div>\n        </div>\n        <div className=\"header-actions\">\n          <div className=\"settings-menu\">\n            <button \n              className=\"settings-button\"\n              title=\"Settings\"\n              onClick={() => setIsSettingsOpen(!isSettingsOpen)}\n            >\n              <span role=\"img\" aria-label=\"settings\">⚙️</span>\n            </button>\n            {isSettingsOpen && (\n              <div className=\"settings-dropdown\">\n                {settingsItems.map((item, index) => (\n                  <button\n                    key={index}\n                    className={`settings-item ${item.isDangerous ? 'dangerous' : ''}`}\n                    onClick={() => handleSettingsClick(item.action)}\n                  >\n                    <span className=\"settings-label\" style={{ color: item.color }}>\n                      {item.label}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"conversation-content\">\n        <div className=\"message-history\">\n          {conversation.messages.map((message, index) => (\n            <div \n              key={index} \n              className={`message-wrapper ${message.sender === 'user' ? 'outgoing' : 'incoming'}`}\n            >\n              {message.sender === 'contact' && (\n                <div className=\"message-sender\">{conversation.contact.name}</div>\n              )}\n              <div className={`message-bubble ${message.platform.toLowerCase()}`}>\n                <div className=\"message-content\">\n                  <p>{message.text}</p>\n                  <div className=\"message-meta\">\n                    <span className=\"message-time\">\n                      {message.time.toLocaleTimeString([], { \n                        hour: '2-digit', \n                        minute: '2-digit',\n                        hour12: true \n                      })}\n                    </span>\n                    <span \n                      className=\"platform-indicator\"\n                      data-platform={message.platform}\n                    >\n                      {message.platform}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <AIFeatures conversation={conversation} />\n      \n      <div className=\"message-input-container\">\n        {recordedAudio ? (\n          <div className=\"recorded-audio\">\n            <audio src={recordedAudio.url} controls />\n            <button \n              className=\"cancel-audio\"\n              onClick={() => setRecordedAudio(null)}\n              title=\"Cancel\"\n            >\n              ❌\n            </button>\n          </div>\n        ) : (\n          <>\n            <input \n              type=\"text\" \n              className={`message-input ${isVoiceCommand ? 'voice-active' : ''}`}\n              placeholder={isVoiceCommand ? 'Listening for voice command...' : 'Type a message or use voice command...'}\n              value={messageText}\n              onChange={(e) => setMessageText(e.target.value)}\n              onKeyPress={handleKeyPress}\n            />\n            <button \n              className={`voice-command-button ${isVoiceCommand ? 'active' : ''}`}\n              title={isVoiceCommand ? 'Stop Voice Command' : 'Start Voice Command'}\n              onClick={() => isVoiceCommand ? stopVoiceCommand() : startVoiceCommand()}\n            >\n              <span role=\"img\" aria-label=\"voice-command\">\n                {isVoiceCommand ? '🎙️' : '🗣️'}\n              </span>\n            </button>\n          </>\n        )}\n        <button \n          className={`voice-button ${isRecording ? 'recording' : ''}`}\n          title={isRecording ? 'Stop Recording' : 'Start Voice Recording'}\n          onClick={handleVoiceButtonClick}\n        >\n          <span role=\"img\" aria-label=\"voice\">\n            {isRecording ? '⏹️' : '🎤'}\n          </span>\n        </button>\n        <button \n          className={`send-button ${(messageText.trim() || recordedAudio) ? 'active' : ''}`}\n          onClick={handleSendMessage}\n          disabled={!messageText.trim() && !recordedAudio}\n        >\n          <span role=\"img\" aria-label=\"send\">📤</span>\n        </button>\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}