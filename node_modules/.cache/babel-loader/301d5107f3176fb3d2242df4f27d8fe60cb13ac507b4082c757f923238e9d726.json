{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\swamy.LAPTOP-0RVCTRRS\\\\OneDrive\\\\Desktop\\\\Dailyfix Nexus\\\\src\\\\components\\\\ConversationView\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport { AIFeatures } from '../AIFeatures';\n\n// Add type definitions for Web Speech API\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ConversationView = ({\n  conversation\n}) => {\n  _s();\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [isVoiceCommand, setIsVoiceCommand] = useState(false);\n  const [messageText, setMessageText] = useState('');\n  const [recordedAudio, setRecordedAudio] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const speechRecognitionRef = useRef(null);\n  const [currentSettingIndex, setCurrentSettingIndex] = useState(0);\n  const settingsOptions = [{\n    action: 'search',\n    label: 'Search in chat'\n  }, {\n    action: 'media',\n    label: 'Media, links & docs'\n  }, {\n    action: 'export',\n    label: 'Export chat'\n  }, {\n    action: 'clear',\n    label: 'Clear chat',\n    isDangerous: true\n  }, {\n    action: 'block',\n    label: 'Block contact',\n    isDangerous: true\n  }];\n  useEffect(() => {\n    // Initialize speech recognition\n    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n      const SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition;\n      if (SpeechRecognitionAPI) {\n        speechRecognitionRef.current = new SpeechRecognitionAPI();\n        speechRecognitionRef.current.continuous = true;\n        speechRecognitionRef.current.interimResults = true;\n        speechRecognitionRef.current.onresult = event => {\n          const results = Array.from(event.results);\n          const transcript = results.map(result => result[0].transcript).join('');\n          if (event.results[0].isFinal) {\n            handleVoiceCommand(transcript.toLowerCase());\n          }\n        };\n        speechRecognitionRef.current.onerror = event => {\n          console.error('Speech recognition error:', event.error);\n          setIsVoiceCommand(false);\n        };\n      }\n    }\n  }, []);\n  const handleVoiceCommand = command => {\n    // Handle voice commands\n    if (command.includes('tag') || command.includes('label')) {\n      var _command$split$pop, _command$split$pop2;\n      const tag = ((_command$split$pop = command.split('tag').pop()) === null || _command$split$pop === void 0 ? void 0 : _command$split$pop.trim()) || ((_command$split$pop2 = command.split('label').pop()) === null || _command$split$pop2 === void 0 ? void 0 : _command$split$pop2.trim());\n      if (tag) {\n        console.log('Adding tag:', tag);\n        alert(`Added tag: ${tag}`);\n      }\n    } else if (command.includes('reply to')) {\n      var _command$split$pop3;\n      const message = (_command$split$pop3 = command.split('reply to').pop()) === null || _command$split$pop3 === void 0 ? void 0 : _command$split$pop3.trim();\n      if (message) {\n        setMessageText(`Replying to: \"${message}\"`);\n      }\n    } else if (command.includes('search for')) {\n      var _command$split$pop4;\n      const query = (_command$split$pop4 = command.split('search for').pop()) === null || _command$split$pop4 === void 0 ? void 0 : _command$split$pop4.trim();\n      if (query) {\n        handleSettingsClick('search');\n      }\n    } else if (command.includes('clear chat')) {\n      handleSettingsClick('clear');\n    } else if (command.includes('export chat')) {\n      handleSettingsClick('export');\n    } else {\n      // If no command detected, treat as message text\n      setMessageText(command);\n    }\n    setIsVoiceCommand(false);\n  };\n  const startVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      setIsVoiceCommand(true);\n      speechRecognitionRef.current.start();\n    } else {\n      alert('Speech recognition is not supported in your browser');\n    }\n  };\n  const stopVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      speechRecognitionRef.current.stop();\n      setIsVoiceCommand(false);\n    }\n  };\n  const handleSendMessage = () => {\n    if (recordedAudio) {\n      // Send voice message\n      console.log('Sending voice message:', recordedAudio.blob);\n      setRecordedAudio(null);\n    } else if (messageText.trim()) {\n      // Send text message\n      const newMessage = {\n        id: Date.now().toString(),\n        text: messageText,\n        sender: 'user',\n        time: new Date(),\n        platform: (conversation === null || conversation === void 0 ? void 0 : conversation.platforms[0]) || 'WhatsApp'\n      };\n      console.log('Sending text message:', newMessage);\n      setMessageText('');\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: 'audio/wav'\n        });\n        const audioUrl = URL.createObjectURL(audioBlob);\n        setRecordedAudio({\n          blob: audioBlob,\n          url: audioUrl\n        });\n      };\n      mediaRecorder.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      alert('Unable to access microphone. Please check permissions.');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      setIsRecording(false);\n    }\n  };\n  const handleVoiceButtonClick = () => {\n    if (isRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n  const handleSettingsClick = action => {\n    switch (action) {\n      case 'search':\n        const searchText = prompt('Enter text to search in chat:');\n        if (searchText) {\n          alert(`Searching for: ${searchText} in chat with ${conversation === null || conversation === void 0 ? void 0 : conversation.contact.name}`);\n        }\n        break;\n      case 'media':\n        alert('Opening media gallery');\n        break;\n      case 'export':\n        alert('Exporting chat history...');\n        break;\n      case 'clear':\n        if (window.confirm('Are you sure you want to clear this chat? This cannot be undone.')) {\n          alert('Chat cleared');\n        }\n        break;\n      case 'block':\n        if (window.confirm(`Are you sure you want to block ${conversation === null || conversation === void 0 ? void 0 : conversation.contact.name}?`)) {\n          alert(`${conversation === null || conversation === void 0 ? void 0 : conversation.contact.name} has been blocked`);\n        }\n        break;\n    }\n    setIsSettingsOpen(false);\n  };\n  const handleNextSetting = () => {\n    setCurrentSettingIndex(prev => (prev + 1) % settingsOptions.length);\n  };\n  const handlePrevSetting = () => {\n    setCurrentSettingIndex(prev => prev === 0 ? settingsOptions.length - 1 : prev - 1);\n  };\n  const handleAIReplySelect = reply => {\n    setMessageText(reply); // This will update the message input\n  };\n  if (!conversation) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation-placeholder\",\n      children: \"Select a conversation to start messaging\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"conversation-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: conversation.contact.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"platform-badges\",\n          children: conversation.platforms.map(platform => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"platform-badge\",\n            \"data-platform\": platform,\n            children: platform\n          }, platform, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-menu\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"settings-button\",\n            title: \"Settings\",\n            onClick: () => setIsSettingsOpen(!isSettingsOpen),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"settings\",\n              children: \"\\u22EE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), isSettingsOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"settings-navigation\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"nav-button\",\n                onClick: handlePrevSetting,\n                title: \"Previous option\",\n                children: \"\\u2190\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"settings-counter\",\n                children: [currentSettingIndex + 1, \" / \", settingsOptions.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"nav-button\",\n                onClick: handleNextSetting,\n                title: \"Next option\",\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `settings-item ${settingsOptions[currentSettingIndex].isDangerous ? 'dangerous' : ''}`,\n              onClick: () => handleSettingsClick(settingsOptions[currentSettingIndex].action),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"settings-label\",\n                children: settingsOptions[currentSettingIndex].label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-history\",\n        children: conversation.messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message-bubble ${message.platform.toLowerCase()}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: message.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: message.time.toLocaleTimeString([], {\n                  hour: '2-digit',\n                  minute: '2-digit',\n                  hour12: true\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"platform-indicator\",\n                \"data-platform\": message.platform,\n                children: message.platform\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AIFeatures, {\n      conversation: conversation,\n      onReplySelect: handleAIReplySelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-input-container\",\n      children: [recordedAudio ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recorded-audio\",\n        children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n          src: recordedAudio.url,\n          controls: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-audio\",\n          onClick: () => setRecordedAudio(null),\n          title: \"Cancel\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: `message-input ${isVoiceCommand ? 'voice-active' : ''}`,\n          placeholder: isVoiceCommand ? 'Listening for voice command...' : 'Type a message or use voice command...',\n          value: messageText,\n          onChange: e => setMessageText(e.target.value),\n          onKeyPress: handleKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `voice-command-button ${isVoiceCommand ? 'active' : ''}`,\n          title: isVoiceCommand ? 'Stop Voice Command' : 'Start Voice Command',\n          onClick: () => isVoiceCommand ? stopVoiceCommand() : startVoiceCommand(),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"voice-command\",\n            children: isVoiceCommand ? 'üéôÔ∏è' : 'üó£Ô∏è'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `voice-button ${isRecording ? 'recording' : ''}`,\n        title: isRecording ? 'Stop Recording' : 'Start Voice Recording',\n        onClick: handleVoiceButtonClick,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"voice\",\n          children: isRecording ? '‚èπÔ∏è' : 'üé§'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `send-button ${messageText.trim() || recordedAudio ? 'active' : ''}`,\n        onClick: handleSendMessage,\n        disabled: !messageText.trim() && !recordedAudio,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"send\",\n          children: \"\\uD83D\\uDCE4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n};\n\n// Helper function to generate AI replies (mock implementation)\n_s(ConversationView, \"Yca8+Hm0fU1ZXh97T0XRCvrcgHo=\");\n_c = ConversationView;\nconst generateAIReplies = async messages => {\n  // In a real implementation, this would call your AI service\n  const commonReplies = [\"I'll look into this and get back to you shortly\", \"Thanks for bringing this to my attention\", \"Could you clarify your requirements?\", \"Let me check with the team and update you\", \"I understand, I'll prioritize this task\", \"Would you like to schedule a call to discuss this?\"];\n\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n\n  // Return 3 random replies\n  return commonReplies.sort(() => Math.random() - 0.5).slice(0, 3);\n};\nvar _c;\n$RefreshReg$(_c, \"ConversationView\");","map":{"version":3,"names":["React","useState","useRef","useEffect","AIFeatures","jsxDEV","_jsxDEV","Fragment","_Fragment","ConversationView","conversation","_s","isSettingsOpen","setIsSettingsOpen","isRecording","setIsRecording","isVoiceCommand","setIsVoiceCommand","messageText","setMessageText","recordedAudio","setRecordedAudio","mediaRecorderRef","audioChunksRef","speechRecognitionRef","currentSettingIndex","setCurrentSettingIndex","settingsOptions","action","label","isDangerous","window","SpeechRecognitionAPI","SpeechRecognition","webkitSpeechRecognition","current","continuous","interimResults","onresult","event","results","Array","from","transcript","map","result","join","isFinal","handleVoiceCommand","toLowerCase","onerror","console","error","command","includes","_command$split$pop","_command$split$pop2","tag","split","pop","trim","log","alert","_command$split$pop3","message","_command$split$pop4","query","handleSettingsClick","startVoiceCommand","start","stopVoiceCommand","stop","handleSendMessage","blob","newMessage","id","Date","now","toString","text","sender","time","platform","platforms","handleKeyPress","e","key","shiftKey","preventDefault","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","ondataavailable","data","size","push","onstop","audioBlob","Blob","type","audioUrl","URL","createObjectURL","url","stopRecording","getTracks","forEach","track","handleVoiceButtonClick","searchText","prompt","contact","name","confirm","handleNextSetting","prev","length","handlePrevSetting","handleAIReplySelect","reply","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","role","messages","index","toLocaleTimeString","hour","minute","hour12","onReplySelect","src","controls","placeholder","value","onChange","target","onKeyPress","disabled","_c","generateAIReplies","commonReplies","Promise","resolve","setTimeout","sort","Math","random","slice","$RefreshReg$"],"sources":["C:/Users/swamy.LAPTOP-0RVCTRRS/OneDrive/Desktop/Dailyfix Nexus/src/components/ConversationView/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport { AIFeatures } from '../AIFeatures';\nimport type { Conversation } from '../../types/conversation';\n\n// Add type definitions for Web Speech API\ninterface SpeechRecognitionEvent extends Event {\n  results: SpeechRecognitionResultList;\n  resultIndex: number;\n}\n\ninterface SpeechRecognitionError extends Event {\n  error: string;\n  message: string;\n}\n\ninterface SpeechRecognitionResult {\n  isFinal: boolean;\n  [index: number]: SpeechRecognitionAlternative;\n}\n\ninterface SpeechRecognitionAlternative {\n  transcript: string;\n  confidence: number;\n}\n\ninterface SpeechRecognitionResultList {\n  length: number;\n  item(index: number): SpeechRecognitionResult;\n  [index: number]: SpeechRecognitionResult;\n}\n\ninterface SpeechRecognition extends EventTarget {\n  continuous: boolean;\n  interimResults: boolean;\n  lang: string;\n  onresult: (event: SpeechRecognitionEvent) => void;\n  onerror: (event: SpeechRecognitionError) => void;\n  start(): void;\n  stop(): void;\n  abort(): void;\n}\n\ninterface SpeechRecognitionConstructor {\n  new (): SpeechRecognition;\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition?: SpeechRecognitionConstructor;\n    webkitSpeechRecognition?: SpeechRecognitionConstructor;\n  }\n}\n\ninterface Message {\n  id: string;\n  text: string;\n  sender: 'user' | 'contact';\n  timestamp: Date;\n  platform: string;\n}\n\ninterface ConversationViewProps {\n  conversation: Conversation | null;\n}\n\nexport const ConversationView: React.FC<ConversationViewProps> = ({ conversation }) => {\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [isVoiceCommand, setIsVoiceCommand] = useState(false);\n  const [messageText, setMessageText] = useState('');\n  const [recordedAudio, setRecordedAudio] = useState<{ blob: Blob; url: string } | null>(null);\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const audioChunksRef = useRef<Blob[]>([]);\n  const speechRecognitionRef = useRef<SpeechRecognition | null>(null);\n  const [currentSettingIndex, setCurrentSettingIndex] = useState(0);\n\n  const settingsOptions = [\n    { action: 'search', label: 'Search in chat' },\n    { action: 'media', label: 'Media, links & docs' },\n    { action: 'export', label: 'Export chat' },\n    { action: 'clear', label: 'Clear chat', isDangerous: true },\n    { action: 'block', label: 'Block contact', isDangerous: true }\n  ];\n\n  useEffect(() => {\n    // Initialize speech recognition\n    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n      const SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition;\n      if (SpeechRecognitionAPI) {\n        speechRecognitionRef.current = new SpeechRecognitionAPI();\n        speechRecognitionRef.current.continuous = true;\n        speechRecognitionRef.current.interimResults = true;\n\n        speechRecognitionRef.current.onresult = (event: SpeechRecognitionEvent) => {\n          const results = Array.from(event.results);\n          const transcript = results\n            .map(result => result[0].transcript)\n            .join('');\n\n          if (event.results[0].isFinal) {\n            handleVoiceCommand(transcript.toLowerCase());\n          }\n        };\n\n        speechRecognitionRef.current.onerror = (event: SpeechRecognitionError) => {\n          console.error('Speech recognition error:', event.error);\n          setIsVoiceCommand(false);\n        };\n      }\n    }\n  }, []);\n\n  const handleVoiceCommand = (command: string) => {\n    // Handle voice commands\n    if (command.includes('tag') || command.includes('label')) {\n      const tag = command.split('tag').pop()?.trim() || command.split('label').pop()?.trim();\n      if (tag) {\n        console.log('Adding tag:', tag);\n        alert(`Added tag: ${tag}`);\n      }\n    } else if (command.includes('reply to')) {\n      const message = command.split('reply to').pop()?.trim();\n      if (message) {\n        setMessageText(`Replying to: \"${message}\"`);\n      }\n    } else if (command.includes('search for')) {\n      const query = command.split('search for').pop()?.trim();\n      if (query) {\n        handleSettingsClick('search');\n      }\n    } else if (command.includes('clear chat')) {\n      handleSettingsClick('clear');\n    } else if (command.includes('export chat')) {\n      handleSettingsClick('export');\n    } else {\n      // If no command detected, treat as message text\n      setMessageText(command);\n    }\n    setIsVoiceCommand(false);\n  };\n\n  const startVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      setIsVoiceCommand(true);\n      speechRecognitionRef.current.start();\n    } else {\n      alert('Speech recognition is not supported in your browser');\n    }\n  };\n\n  const stopVoiceCommand = () => {\n    if (speechRecognitionRef.current) {\n      speechRecognitionRef.current.stop();\n      setIsVoiceCommand(false);\n    }\n  };\n\n  const handleSendMessage = () => {\n    if (recordedAudio) {\n      // Send voice message\n      console.log('Sending voice message:', recordedAudio.blob);\n      setRecordedAudio(null);\n    } else if (messageText.trim()) {\n      // Send text message\n      const newMessage = {\n        id: Date.now().toString(),\n        text: messageText,\n        sender: 'user' as const,\n        time: new Date(),\n        platform: conversation?.platforms[0] || 'WhatsApp',\n      };\n      console.log('Sending text message:', newMessage);\n      setMessageText('');\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/wav' });\n        const audioUrl = URL.createObjectURL(audioBlob);\n        setRecordedAudio({ blob: audioBlob, url: audioUrl });\n      };\n\n      mediaRecorder.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      alert('Unable to access microphone. Please check permissions.');\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      setIsRecording(false);\n    }\n  };\n\n  const handleVoiceButtonClick = () => {\n    if (isRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n\n  const handleSettingsClick = (action: string) => {\n    switch (action) {\n      case 'search':\n        const searchText = prompt('Enter text to search in chat:');\n        if (searchText) {\n          alert(`Searching for: ${searchText} in chat with ${conversation?.contact.name}`);\n        }\n        break;\n      case 'media':\n        alert('Opening media gallery');\n        break;\n      case 'export':\n        alert('Exporting chat history...');\n        break;\n      case 'clear':\n        if (window.confirm('Are you sure you want to clear this chat? This cannot be undone.')) {\n          alert('Chat cleared');\n        }\n        break;\n      case 'block':\n        if (window.confirm(`Are you sure you want to block ${conversation?.contact.name}?`)) {\n          alert(`${conversation?.contact.name} has been blocked`);\n        }\n        break;\n    }\n    setIsSettingsOpen(false);\n  };\n\n  const handleNextSetting = () => {\n    setCurrentSettingIndex((prev) => (prev + 1) % settingsOptions.length);\n  };\n\n  const handlePrevSetting = () => {\n    setCurrentSettingIndex((prev) => \n      prev === 0 ? settingsOptions.length - 1 : prev - 1\n    );\n  };\n\n  const handleAIReplySelect = (reply: string) => {\n    setMessageText(reply); // This will update the message input\n  };\n\n  if (!conversation) {\n    return (\n      <div className=\"conversation-placeholder\">\n        Select a conversation to start messaging\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"conversation-view\">\n      <div className=\"conversation-header\">\n        <div className=\"header-left\">\n          <h2>{conversation.contact.name}</h2>\n          <div className=\"platform-badges\">\n            {conversation.platforms.map(platform => (\n              <span \n                key={platform} \n                className=\"platform-badge\"\n                data-platform={platform}\n              >\n                {platform}\n              </span>\n            ))}\n          </div>\n        </div>\n        <div className=\"header-actions\">\n          <div className=\"settings-menu\">\n            <button \n              className=\"settings-button\"\n              title=\"Settings\"\n              onClick={() => setIsSettingsOpen(!isSettingsOpen)}\n            >\n              <span role=\"img\" aria-label=\"settings\">‚ãÆ</span>\n            </button>\n            {isSettingsOpen && (\n              <div className=\"settings-dropdown\">\n                <div className=\"settings-navigation\">\n                  <button \n                    className=\"nav-button\"\n                    onClick={handlePrevSetting}\n                    title=\"Previous option\"\n                  >\n                    ‚Üê\n                  </button>\n                  <span className=\"settings-counter\">\n                    {currentSettingIndex + 1} / {settingsOptions.length}\n                  </span>\n                  <button \n                    className=\"nav-button\"\n                    onClick={handleNextSetting}\n                    title=\"Next option\"\n                  >\n                    ‚Üí\n                  </button>\n                </div>\n                <button\n                  className={`settings-item ${settingsOptions[currentSettingIndex].isDangerous ? 'dangerous' : ''}`}\n                  onClick={() => handleSettingsClick(settingsOptions[currentSettingIndex].action)}\n                >\n                  <span className=\"settings-label\">\n                    {settingsOptions[currentSettingIndex].label}\n                  </span>\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"conversation-content\">\n        <div className=\"message-history\">\n          {conversation.messages.map((message, index) => (\n            <div \n              key={index} \n              className={`message-bubble ${message.platform.toLowerCase()}`}\n            >\n              <div className=\"message-content\">\n                <p>{message.text}</p>\n                <div className=\"message-meta\">\n                  <span className=\"message-time\">\n                    {message.time.toLocaleTimeString([], { \n                      hour: '2-digit', \n                      minute: '2-digit',\n                      hour12: true \n                    })}\n                  </span>\n                  <span \n                    className=\"platform-indicator\"\n                    data-platform={message.platform}\n                  >\n                    {message.platform}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <AIFeatures \n        conversation={conversation} \n        onReplySelect={handleAIReplySelect}\n      />\n\n      <div className=\"message-input-container\">\n        {recordedAudio ? (\n          <div className=\"recorded-audio\">\n            <audio src={recordedAudio.url} controls />\n            <button \n              className=\"cancel-audio\"\n              onClick={() => setRecordedAudio(null)}\n              title=\"Cancel\"\n            >\n              ‚ùå\n            </button>\n          </div>\n        ) : (\n          <>\n            <input \n              type=\"text\" \n              className={`message-input ${isVoiceCommand ? 'voice-active' : ''}`}\n              placeholder={isVoiceCommand ? 'Listening for voice command...' : 'Type a message or use voice command...'}\n              value={messageText}\n              onChange={(e) => setMessageText(e.target.value)}\n              onKeyPress={handleKeyPress}\n            />\n            <button \n              className={`voice-command-button ${isVoiceCommand ? 'active' : ''}`}\n              title={isVoiceCommand ? 'Stop Voice Command' : 'Start Voice Command'}\n              onClick={() => isVoiceCommand ? stopVoiceCommand() : startVoiceCommand()}\n            >\n              <span role=\"img\" aria-label=\"voice-command\">\n                {isVoiceCommand ? 'üéôÔ∏è' : 'üó£Ô∏è'}\n              </span>\n            </button>\n          </>\n        )}\n        <button \n          className={`voice-button ${isRecording ? 'recording' : ''}`}\n          title={isRecording ? 'Stop Recording' : 'Start Voice Recording'}\n          onClick={handleVoiceButtonClick}\n        >\n          <span role=\"img\" aria-label=\"voice\">\n            {isRecording ? '‚èπÔ∏è' : 'üé§'}\n          </span>\n        </button>\n        <button \n          className={`send-button ${(messageText.trim() || recordedAudio) ? 'active' : ''}`}\n          onClick={handleSendMessage}\n          disabled={!messageText.trim() && !recordedAudio}\n        >\n          <span role=\"img\" aria-label=\"send\">üì§</span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Helper function to generate AI replies (mock implementation)\nconst generateAIReplies = async (messages: any[]): Promise<string[]> => {\n  // In a real implementation, this would call your AI service\n  const commonReplies = [\n    \"I'll look into this and get back to you shortly\",\n    \"Thanks for bringing this to my attention\",\n    \"Could you clarify your requirements?\",\n    \"Let me check with the team and update you\",\n    \"I understand, I'll prioritize this task\",\n    \"Would you like to schedule a call to discuss this?\",\n  ];\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  // Return 3 random replies\n  return commonReplies\n    .sort(() => Math.random() - 0.5)\n    .slice(0, 3);\n}; "],"mappings":";;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACnD,SAASC,UAAU,QAAQ,eAAe;;AAG1C;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AA6DA,OAAO,MAAMC,gBAAiD,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACrF,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACe,cAAc,EAAEC,iBAAiB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACiB,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACmB,aAAa,EAAEC,gBAAgB,CAAC,GAAGpB,QAAQ,CAAqC,IAAI,CAAC;EAC5F,MAAMqB,gBAAgB,GAAGpB,MAAM,CAAuB,IAAI,CAAC;EAC3D,MAAMqB,cAAc,GAAGrB,MAAM,CAAS,EAAE,CAAC;EACzC,MAAMsB,oBAAoB,GAAGtB,MAAM,CAA2B,IAAI,CAAC;EACnE,MAAM,CAACuB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EAEjE,MAAM0B,eAAe,GAAG,CACtB;IAAEC,MAAM,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAiB,CAAC,EAC7C;IAAED,MAAM,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAsB,CAAC,EACjD;IAAED,MAAM,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAc,CAAC,EAC1C;IAAED,MAAM,EAAE,OAAO;IAAEC,KAAK,EAAE,YAAY;IAAEC,WAAW,EAAE;EAAK,CAAC,EAC3D;IAAEF,MAAM,EAAE,OAAO;IAAEC,KAAK,EAAE,eAAe;IAAEC,WAAW,EAAE;EAAK,CAAC,CAC/D;EAED3B,SAAS,CAAC,MAAM;IACd;IACA,IAAI,mBAAmB,IAAI4B,MAAM,IAAI,yBAAyB,IAAIA,MAAM,EAAE;MACxE,MAAMC,oBAAoB,GAAGD,MAAM,CAACE,iBAAiB,IAAIF,MAAM,CAACG,uBAAuB;MACvF,IAAIF,oBAAoB,EAAE;QACxBR,oBAAoB,CAACW,OAAO,GAAG,IAAIH,oBAAoB,CAAC,CAAC;QACzDR,oBAAoB,CAACW,OAAO,CAACC,UAAU,GAAG,IAAI;QAC9CZ,oBAAoB,CAACW,OAAO,CAACE,cAAc,GAAG,IAAI;QAElDb,oBAAoB,CAACW,OAAO,CAACG,QAAQ,GAAIC,KAA6B,IAAK;UACzE,MAAMC,OAAO,GAAGC,KAAK,CAACC,IAAI,CAACH,KAAK,CAACC,OAAO,CAAC;UACzC,MAAMG,UAAU,GAAGH,OAAO,CACvBI,GAAG,CAACC,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC,CAACF,UAAU,CAAC,CACnCG,IAAI,CAAC,EAAE,CAAC;UAEX,IAAIP,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACO,OAAO,EAAE;YAC5BC,kBAAkB,CAACL,UAAU,CAACM,WAAW,CAAC,CAAC,CAAC;UAC9C;QACF,CAAC;QAEDzB,oBAAoB,CAACW,OAAO,CAACe,OAAO,GAAIX,KAA6B,IAAK;UACxEY,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEb,KAAK,CAACa,KAAK,CAAC;UACvDnC,iBAAiB,CAAC,KAAK,CAAC;QAC1B,CAAC;MACH;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM+B,kBAAkB,GAAIK,OAAe,IAAK;IAC9C;IACA,IAAIA,OAAO,CAACC,QAAQ,CAAC,KAAK,CAAC,IAAID,OAAO,CAACC,QAAQ,CAAC,OAAO,CAAC,EAAE;MAAA,IAAAC,kBAAA,EAAAC,mBAAA;MACxD,MAAMC,GAAG,GAAG,EAAAF,kBAAA,GAAAF,OAAO,CAACK,KAAK,CAAC,KAAK,CAAC,CAACC,GAAG,CAAC,CAAC,cAAAJ,kBAAA,uBAA1BA,kBAAA,CAA4BK,IAAI,CAAC,CAAC,OAAAJ,mBAAA,GAAIH,OAAO,CAACK,KAAK,CAAC,OAAO,CAAC,CAACC,GAAG,CAAC,CAAC,cAAAH,mBAAA,uBAA5BA,mBAAA,CAA8BI,IAAI,CAAC,CAAC;MACtF,IAAIH,GAAG,EAAE;QACPN,OAAO,CAACU,GAAG,CAAC,aAAa,EAAEJ,GAAG,CAAC;QAC/BK,KAAK,CAAC,cAAcL,GAAG,EAAE,CAAC;MAC5B;IACF,CAAC,MAAM,IAAIJ,OAAO,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;MAAA,IAAAS,mBAAA;MACvC,MAAMC,OAAO,IAAAD,mBAAA,GAAGV,OAAO,CAACK,KAAK,CAAC,UAAU,CAAC,CAACC,GAAG,CAAC,CAAC,cAAAI,mBAAA,uBAA/BA,mBAAA,CAAiCH,IAAI,CAAC,CAAC;MACvD,IAAII,OAAO,EAAE;QACX7C,cAAc,CAAC,iBAAiB6C,OAAO,GAAG,CAAC;MAC7C;IACF,CAAC,MAAM,IAAIX,OAAO,CAACC,QAAQ,CAAC,YAAY,CAAC,EAAE;MAAA,IAAAW,mBAAA;MACzC,MAAMC,KAAK,IAAAD,mBAAA,GAAGZ,OAAO,CAACK,KAAK,CAAC,YAAY,CAAC,CAACC,GAAG,CAAC,CAAC,cAAAM,mBAAA,uBAAjCA,mBAAA,CAAmCL,IAAI,CAAC,CAAC;MACvD,IAAIM,KAAK,EAAE;QACTC,mBAAmB,CAAC,QAAQ,CAAC;MAC/B;IACF,CAAC,MAAM,IAAId,OAAO,CAACC,QAAQ,CAAC,YAAY,CAAC,EAAE;MACzCa,mBAAmB,CAAC,OAAO,CAAC;IAC9B,CAAC,MAAM,IAAId,OAAO,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;MAC1Ca,mBAAmB,CAAC,QAAQ,CAAC;IAC/B,CAAC,MAAM;MACL;MACAhD,cAAc,CAACkC,OAAO,CAAC;IACzB;IACApC,iBAAiB,CAAC,KAAK,CAAC;EAC1B,CAAC;EAED,MAAMmD,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAI5C,oBAAoB,CAACW,OAAO,EAAE;MAChClB,iBAAiB,CAAC,IAAI,CAAC;MACvBO,oBAAoB,CAACW,OAAO,CAACkC,KAAK,CAAC,CAAC;IACtC,CAAC,MAAM;MACLP,KAAK,CAAC,qDAAqD,CAAC;IAC9D;EACF,CAAC;EAED,MAAMQ,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAI9C,oBAAoB,CAACW,OAAO,EAAE;MAChCX,oBAAoB,CAACW,OAAO,CAACoC,IAAI,CAAC,CAAC;MACnCtD,iBAAiB,CAAC,KAAK,CAAC;IAC1B;EACF,CAAC;EAED,MAAMuD,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAIpD,aAAa,EAAE;MACjB;MACA+B,OAAO,CAACU,GAAG,CAAC,wBAAwB,EAAEzC,aAAa,CAACqD,IAAI,CAAC;MACzDpD,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,MAAM,IAAIH,WAAW,CAAC0C,IAAI,CAAC,CAAC,EAAE;MAC7B;MACA,MAAMc,UAAU,GAAG;QACjBC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;QACzBC,IAAI,EAAE7D,WAAW;QACjB8D,MAAM,EAAE,MAAe;QACvBC,IAAI,EAAE,IAAIL,IAAI,CAAC,CAAC;QAChBM,QAAQ,EAAE,CAAAxE,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEyE,SAAS,CAAC,CAAC,CAAC,KAAI;MAC1C,CAAC;MACDhC,OAAO,CAACU,GAAG,CAAC,uBAAuB,EAAEa,UAAU,CAAC;MAChDvD,cAAc,CAAC,EAAE,CAAC;IACpB;EACF,CAAC;EAED,MAAMiE,cAAc,GAAIC,CAAwC,IAAK;IACnE,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,CAAC,CAACE,QAAQ,EAAE;MACpCF,CAAC,CAACG,cAAc,CAAC,CAAC;MAClBhB,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC;EAED,MAAMiB,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MACzE,MAAMC,aAAa,GAAG,IAAIC,aAAa,CAACN,MAAM,CAAC;MAC/CpE,gBAAgB,CAACa,OAAO,GAAG4D,aAAa;MACxCxE,cAAc,CAACY,OAAO,GAAG,EAAE;MAE3B4D,aAAa,CAACE,eAAe,GAAI1D,KAAK,IAAK;QACzC,IAAIA,KAAK,CAAC2D,IAAI,CAACC,IAAI,GAAG,CAAC,EAAE;UACvB5E,cAAc,CAACY,OAAO,CAACiE,IAAI,CAAC7D,KAAK,CAAC2D,IAAI,CAAC;QACzC;MACF,CAAC;MAEDH,aAAa,CAACM,MAAM,GAAG,MAAM;QAC3B,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAAChF,cAAc,CAACY,OAAO,EAAE;UAAEqE,IAAI,EAAE;QAAY,CAAC,CAAC;QACzE,MAAMC,QAAQ,GAAGC,GAAG,CAACC,eAAe,CAACL,SAAS,CAAC;QAC/CjF,gBAAgB,CAAC;UAAEoD,IAAI,EAAE6B,SAAS;UAAEM,GAAG,EAAEH;QAAS,CAAC,CAAC;MACtD,CAAC;MAEDV,aAAa,CAAC1B,KAAK,CAAC,CAAC;MACrBtD,cAAc,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOqC,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDU,KAAK,CAAC,wDAAwD,CAAC;IACjE;EACF,CAAC;EAED,MAAM+C,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIvF,gBAAgB,CAACa,OAAO,IAAIrB,WAAW,EAAE;MAC3CQ,gBAAgB,CAACa,OAAO,CAACoC,IAAI,CAAC,CAAC;MAC/BjD,gBAAgB,CAACa,OAAO,CAACuD,MAAM,CAACoB,SAAS,CAAC,CAAC,CAACC,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACzC,IAAI,CAAC,CAAC,CAAC;MAC1ExD,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMkG,sBAAsB,GAAGA,CAAA,KAAM;IACnC,IAAInG,WAAW,EAAE;MACf+F,aAAa,CAAC,CAAC;IACjB,CAAC,MAAM;MACLpB,cAAc,CAAC,CAAC;IAClB;EACF,CAAC;EAED,MAAMtB,mBAAmB,GAAIvC,MAAc,IAAK;IAC9C,QAAQA,MAAM;MACZ,KAAK,QAAQ;QACX,MAAMsF,UAAU,GAAGC,MAAM,CAAC,+BAA+B,CAAC;QAC1D,IAAID,UAAU,EAAE;UACdpD,KAAK,CAAC,kBAAkBoD,UAAU,iBAAiBxG,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE0G,OAAO,CAACC,IAAI,EAAE,CAAC;QAClF;QACA;MACF,KAAK,OAAO;QACVvD,KAAK,CAAC,uBAAuB,CAAC;QAC9B;MACF,KAAK,QAAQ;QACXA,KAAK,CAAC,2BAA2B,CAAC;QAClC;MACF,KAAK,OAAO;QACV,IAAI/B,MAAM,CAACuF,OAAO,CAAC,kEAAkE,CAAC,EAAE;UACtFxD,KAAK,CAAC,cAAc,CAAC;QACvB;QACA;MACF,KAAK,OAAO;QACV,IAAI/B,MAAM,CAACuF,OAAO,CAAC,kCAAkC5G,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE0G,OAAO,CAACC,IAAI,GAAG,CAAC,EAAE;UACnFvD,KAAK,CAAC,GAAGpD,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE0G,OAAO,CAACC,IAAI,mBAAmB,CAAC;QACzD;QACA;IACJ;IACAxG,iBAAiB,CAAC,KAAK,CAAC;EAC1B,CAAC;EAED,MAAM0G,iBAAiB,GAAGA,CAAA,KAAM;IAC9B7F,sBAAsB,CAAE8F,IAAI,IAAK,CAACA,IAAI,GAAG,CAAC,IAAI7F,eAAe,CAAC8F,MAAM,CAAC;EACvE,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9BhG,sBAAsB,CAAE8F,IAAI,IAC1BA,IAAI,KAAK,CAAC,GAAG7F,eAAe,CAAC8F,MAAM,GAAG,CAAC,GAAGD,IAAI,GAAG,CACnD,CAAC;EACH,CAAC;EAED,MAAMG,mBAAmB,GAAIC,KAAa,IAAK;IAC7CzG,cAAc,CAACyG,KAAK,CAAC,CAAC,CAAC;EACzB,CAAC;EAED,IAAI,CAAClH,YAAY,EAAE;IACjB,oBACEJ,OAAA;MAAKuH,SAAS,EAAC,0BAA0B;MAAAC,QAAA,EAAC;IAE1C;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAEV;EAEA,oBACE5H,OAAA;IAAKuH,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAChCxH,OAAA;MAAKuH,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAClCxH,OAAA;QAAKuH,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BxH,OAAA;UAAAwH,QAAA,EAAKpH,YAAY,CAAC0G,OAAO,CAACC;QAAI;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACpC5H,OAAA;UAAKuH,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAC7BpH,YAAY,CAACyE,SAAS,CAACvC,GAAG,CAACsC,QAAQ,iBAClC5E,OAAA;YAEEuH,SAAS,EAAC,gBAAgB;YAC1B,iBAAe3C,QAAS;YAAA4C,QAAA,EAEvB5C;UAAQ,GAJJA,QAAQ;YAAA6C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKT,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACN5H,OAAA;QAAKuH,SAAS,EAAC,gBAAgB;QAAAC,QAAA,eAC7BxH,OAAA;UAAKuH,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BxH,OAAA;YACEuH,SAAS,EAAC,iBAAiB;YAC3BM,KAAK,EAAC,UAAU;YAChBC,OAAO,EAAEA,CAAA,KAAMvH,iBAAiB,CAAC,CAACD,cAAc,CAAE;YAAAkH,QAAA,eAElDxH,OAAA;cAAM+H,IAAI,EAAC,KAAK;cAAC,cAAW,UAAU;cAAAP,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC,EACRtH,cAAc,iBACbN,OAAA;YAAKuH,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCxH,OAAA;cAAKuH,SAAS,EAAC,qBAAqB;cAAAC,QAAA,gBAClCxH,OAAA;gBACEuH,SAAS,EAAC,YAAY;gBACtBO,OAAO,EAAEV,iBAAkB;gBAC3BS,KAAK,EAAC,iBAAiB;gBAAAL,QAAA,EACxB;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT5H,OAAA;gBAAMuH,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,GAC/BrG,mBAAmB,GAAG,CAAC,EAAC,KAAG,EAACE,eAAe,CAAC8F,MAAM;cAAA;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/C,CAAC,eACP5H,OAAA;gBACEuH,SAAS,EAAC,YAAY;gBACtBO,OAAO,EAAEb,iBAAkB;gBAC3BY,KAAK,EAAC,aAAa;gBAAAL,QAAA,EACpB;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN5H,OAAA;cACEuH,SAAS,EAAE,iBAAiBlG,eAAe,CAACF,mBAAmB,CAAC,CAACK,WAAW,GAAG,WAAW,GAAG,EAAE,EAAG;cAClGsG,OAAO,EAAEA,CAAA,KAAMjE,mBAAmB,CAACxC,eAAe,CAACF,mBAAmB,CAAC,CAACG,MAAM,CAAE;cAAAkG,QAAA,eAEhFxH,OAAA;gBAAMuH,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAC7BnG,eAAe,CAACF,mBAAmB,CAAC,CAACI;cAAK;gBAAAkG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN5H,OAAA;MAAKuH,SAAS,EAAC,sBAAsB;MAAAC,QAAA,eACnCxH,OAAA;QAAKuH,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAC7BpH,YAAY,CAAC4H,QAAQ,CAAC1F,GAAG,CAAC,CAACoB,OAAO,EAAEuE,KAAK,kBACxCjI,OAAA;UAEEuH,SAAS,EAAE,kBAAkB7D,OAAO,CAACkB,QAAQ,CAACjC,WAAW,CAAC,CAAC,EAAG;UAAA6E,QAAA,eAE9DxH,OAAA;YAAKuH,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BxH,OAAA;cAAAwH,QAAA,EAAI9D,OAAO,CAACe;YAAI;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrB5H,OAAA;cAAKuH,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BxH,OAAA;gBAAMuH,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAC3B9D,OAAO,CAACiB,IAAI,CAACuD,kBAAkB,CAAC,EAAE,EAAE;kBACnCC,IAAI,EAAE,SAAS;kBACfC,MAAM,EAAE,SAAS;kBACjBC,MAAM,EAAE;gBACV,CAAC;cAAC;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eACP5H,OAAA;gBACEuH,SAAS,EAAC,oBAAoB;gBAC9B,iBAAe7D,OAAO,CAACkB,QAAS;gBAAA4C,QAAA,EAE/B9D,OAAO,CAACkB;cAAQ;gBAAA6C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GApBDK,KAAK;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAqBP,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN5H,OAAA,CAACF,UAAU;MACTM,YAAY,EAAEA,YAAa;MAC3BkI,aAAa,EAAEjB;IAAoB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,eAEF5H,OAAA;MAAKuH,SAAS,EAAC,yBAAyB;MAAAC,QAAA,GACrC1G,aAAa,gBACZd,OAAA;QAAKuH,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BxH,OAAA;UAAOuI,GAAG,EAAEzH,aAAa,CAACwF,GAAI;UAACkC,QAAQ;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC1C5H,OAAA;UACEuH,SAAS,EAAC,cAAc;UACxBO,OAAO,EAAEA,CAAA,KAAM/G,gBAAgB,CAAC,IAAI,CAAE;UACtC8G,KAAK,EAAC,QAAQ;UAAAL,QAAA,EACf;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,gBAEN5H,OAAA,CAAAE,SAAA;QAAAsH,QAAA,gBACExH,OAAA;UACEkG,IAAI,EAAC,MAAM;UACXqB,SAAS,EAAE,iBAAiB7G,cAAc,GAAG,cAAc,GAAG,EAAE,EAAG;UACnE+H,WAAW,EAAE/H,cAAc,GAAG,gCAAgC,GAAG,wCAAyC;UAC1GgI,KAAK,EAAE9H,WAAY;UACnB+H,QAAQ,EAAG5D,CAAC,IAAKlE,cAAc,CAACkE,CAAC,CAAC6D,MAAM,CAACF,KAAK,CAAE;UAChDG,UAAU,EAAE/D;QAAe;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC,eACF5H,OAAA;UACEuH,SAAS,EAAE,wBAAwB7G,cAAc,GAAG,QAAQ,GAAG,EAAE,EAAG;UACpEmH,KAAK,EAAEnH,cAAc,GAAG,oBAAoB,GAAG,qBAAsB;UACrEoH,OAAO,EAAEA,CAAA,KAAMpH,cAAc,GAAGsD,gBAAgB,CAAC,CAAC,GAAGF,iBAAiB,CAAC,CAAE;UAAA0D,QAAA,eAEzExH,OAAA;YAAM+H,IAAI,EAAC,KAAK;YAAC,cAAW,eAAe;YAAAP,QAAA,EACxC9G,cAAc,GAAG,KAAK,GAAG;UAAK;YAAA+G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA,eACT,CACH,eACD5H,OAAA;QACEuH,SAAS,EAAE,gBAAgB/G,WAAW,GAAG,WAAW,GAAG,EAAE,EAAG;QAC5DqH,KAAK,EAAErH,WAAW,GAAG,gBAAgB,GAAG,uBAAwB;QAChEsH,OAAO,EAAEnB,sBAAuB;QAAAa,QAAA,eAEhCxH,OAAA;UAAM+H,IAAI,EAAC,KAAK;UAAC,cAAW,OAAO;UAAAP,QAAA,EAChChH,WAAW,GAAG,IAAI,GAAG;QAAI;UAAAiH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACT5H,OAAA;QACEuH,SAAS,EAAE,eAAgB3G,WAAW,CAAC0C,IAAI,CAAC,CAAC,IAAIxC,aAAa,GAAI,QAAQ,GAAG,EAAE,EAAG;QAClFgH,OAAO,EAAE5D,iBAAkB;QAC3B4E,QAAQ,EAAE,CAAClI,WAAW,CAAC0C,IAAI,CAAC,CAAC,IAAI,CAACxC,aAAc;QAAA0G,QAAA,eAEhDxH,OAAA;UAAM+H,IAAI,EAAC,KAAK;UAAC,cAAW,MAAM;UAAAP,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAAvH,EAAA,CAzWaF,gBAAiD;AAAA4I,EAAA,GAAjD5I,gBAAiD;AA0W9D,MAAM6I,iBAAiB,GAAG,MAAOhB,QAAe,IAAwB;EACtE;EACA,MAAMiB,aAAa,GAAG,CACpB,iDAAiD,EACjD,0CAA0C,EAC1C,sCAAsC,EACtC,2CAA2C,EAC3C,yCAAyC,EACzC,oDAAoD,CACrD;;EAED;EACA,MAAM,IAAIC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;;EAEvD;EACA,OAAOF,aAAa,CACjBI,IAAI,CAAC,MAAMC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,CAC/BC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAChB,CAAC;AAAC,IAAAT,EAAA;AAAAU,YAAA,CAAAV,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}